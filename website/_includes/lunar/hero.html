<div class="hero mt-[70px] overflow-hidden relative">
  <div class="max-w-7xl mx-auto pt-12 lg:pt-16 xl:pt-28 px-6 lg:px-10 relative">
    <div class="relative z-10">
      <h1 class="font-medium leading-none text-center lg:text-left text-white">
        Introducing
        <span class="block pt-4 text-white text-5xl sm:text-7xl">Earthly <br class="hidden lg:block xl:hidden"/>Lunar</span>
      </h1>

      <p class="md:leading-8 mt-9 lg:mt-4 text-center lg:text-left text-2xl md:text-[32px] text-white font-semibold">
        <span class="txt-rotate" data-period="1500" data-rotate='["Compliance", "Engineering culture", "Governance", "Guardrails", "Engineering standards", "Policy", "SDLC instrumentation"]'><span class="wrap">Compliance</span></span><br />
        as code
      </p>

      <p class="text-white mt-9 text-xl text-center lg:text-left">Achieve engineering excellence today!</p>

      <a
        class="bg-white border-[#2d7e5d] border-[2.5px] inline-block mt-4 py-4 rounded-lg text-2xl text-center text-[#2d7e5d]"
        href="/earthly-lunar/demo"
        onclick="lunarGetADemoClick()"
      >
        Get a demo
      </a>
    </div>

    {% svg assets/svg/lunar.svg class="lg:h-auto absolute lg:top-0 mt-3 sm:nt-0" %}
  </div>
</div>

<script>
  function lunarGetADemoClick() {
    analytics.track('lunar-get-a-demo-click', {
      category: 'Get a demo Click',
      label: 'lunar-get-a-demo-click'
    })
  }

  var TxtRotate = function (el, toRotate, period) {
    this.toRotate = toRotate;
    this.el = el;
    this.loopNum = 0;
    this.period = parseInt(period, 10) || 2000;
    this.txt = "";
    this.tick();
    this.isDeleting = false;
  };

  TxtRotate.prototype.tick = function () {
    var i = this.loopNum % this.toRotate.length;
    var fullTxt = this.toRotate[i];

    if (this.isDeleting) {
      this.txt = fullTxt.substring(0, this.txt.length - 1);
    } else {
      this.txt = fullTxt.substring(0, this.txt.length + 1);
    }

    this.el.innerHTML = '<span class="wrap">' + this.txt + "</span>";

    var that = this;
    var delta = 100 - Math.random() * 33;

    if (this.isDeleting) {
      delta /= 2;
    }

    if (!this.isDeleting && this.txt === fullTxt) {
      delta = this.period;
      this.isDeleting = true;
    } else if (this.isDeleting && this.txt === "") {
      this.isDeleting = false;
      this.loopNum++;
      delta = 175;
    }

    setTimeout(function () {
      that.tick();
    }, delta);
  };

  window.onload = function () {
    var elements = document.getElementsByClassName("txt-rotate");
    for (var i = 0; i < elements.length; i++) {
      var toRotate = elements[i].getAttribute("data-rotate");
      var period = elements[i].getAttribute("data-period");
      if (toRotate) {
        new TxtRotate(elements[i], JSON.parse(toRotate), period);
      }
    }
    // INJECT CSS
    var css = document.createElement("style");
    css.type = "text/css";
    css.innerHTML =
      ".txt-rotate > .wrap { border-right: 0.08em solid #fff }";
    document.body.appendChild(css);
  };

</script>
