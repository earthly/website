---
title: "Powerline10k"
categories:
  - Tutorials
toc: true
author: Adam
---

I'm going through the process of setting a new machine. I've finally gotten on the M1 macbook train and after installing iterm2 and other goodies I like ( see appendix ) I noticed that my terminal prompts looked pretty plain.

On my last machine, I had installed "Oh My ZSH" and was using their default theme, I believe. It look pretty nice but the main thing i liked was the git information, what branch I was on, where I had commits to push or pull and so on.

In the past, I had heard people speak foundly of [Starship](https://starship.rs/). It was written in Rust. It was fast. It had a beatiful website. So I thought I might try using it on my machines prompt line. But googling around I found that there was a new kid in town that was perhaps better: Powerline10k. So I decided to give it a try and while it may be a bit early to draw a conclusion, so far its working well.

## Why Powerline10k

Powerline10k and Starship are both powerful. Starship works with many shell, while Powerline, I beleive only, works with ZSH, so that is the first reaons to exclude it. If you want a common prompt across Bash ZSH, Fish shell and ZSH, Starship is probably the one you want. Also Starship has invested more time into documenting the available options. 

But if you are using ZSH, Powerline10k can really shine. [This comparison](https://www.reddit.com/r/zsh/comments/10k0g93/starship_or_powerlevel10k/) by the Powerline creator won me over. Powerline10k is faster, more customizable, and it has a great wizard that runs when you first install it, that walks your through all the options you'd want configured. ( If you need to do things outside of the Wizards options, then you are writing ZSH config values yourself, but to me that wasn't a huge draw back. ) 

The trickiest part is actually just the initial installation.

## Installation

{% picture content-wide-nocrop {{site.pimages}}{{page.slug}}/9390.png --alt {{ Broken fonts }} %}
<figcaption>If you encounter this, the font is not being found.</figcaption>

To install Powerline10k, first install 'Oh My ZSH':
```
sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"

```

( When you install Oh My Zsh, it renames your existing `.zshrc` file to `.zshrc.pre-oh-my-zsh`. So make sure to copy over any important details from it and then `rm ~/.zshrc.pre-oh-my-zsh` )

Then clone the repo and setup Powerline as your theme in `.zshrc`

```
git clone --depth=1 https://github.com/romkatv/powerlevel10k.git ${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/themes/powerlevel10k

sed -i 's/ZSH_THEME=.*/ZSH_THEME=powerlevel10k\/powerlevel10k/' ~/.zshrc
```

Then source your .zshrc and you should be good. The wizard will guide you through the rest of the steps. If you have any font issues, you can manually install the fonts by running `p10k configure` or [grabbing the fonts](https://github.com/romkatv/powerlevel10k/blob/master/font.md) yourself and installing them.

## VSCode Terminal Integration

{% picture content-wide-nocrop {{site.pimages}}{{page.slug}}/9460.png --alt {{ VS Code powerline10k }} %}
<figcaption>Working powerline10k prompt in VSCode integrated terminal</figcaption>

I like to use the VS Code Terminal integration but initially the prompt provided by Powerline10k contained some broken characters. This is the custom font causing issues again, but its easy to fix. 

- On Mac: press ⌘ , or click Code → Preferences → Settings.
- Enter terminal.integrated.fontFamily in the search box at the top of Settings tab and set the value below to `MesloLGS NF`.
- Restart VS Code and you are good.

More VS Code tweaks found on [GitHub](https://github.com/romkatv/powerlevel10k/issues/671) if you are still having issues.

## How is it?

So now that I have my pretty prompt with git details stuffed in it, do I still like it? Yes, it seems nice. Its a bit longer then the ZSH prompt I had before because it includes the branch name, but so far I like having the branch listed. It's also supposed to be faster then the default ZSH theme. I don't actually notice a difference, but I'm happy speed is something they are keeping an eye on.


{% include_html cta/bottom-cta.html %}
